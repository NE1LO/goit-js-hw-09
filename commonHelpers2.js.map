{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["const formRef = document.querySelector('.feedback-form');\nformRef.addEventListener('input', onformRefInput);\nconst localStorageKey = 'feedback-form-state';\n\nconst inputData = {\n  email: '',\n  message: '',\n};\n\nfunction onformRefInput(event) {\n  if (event.target.type === 'email') {\n    inputData.email = event.target.value;\n  } else if (event.target.type === 'textarea') {\n    inputData.message = event.target.value;\n  }\n\n  const inputDataJSON = JSON.stringify(inputData);\n\n  localStorage.setItem(localStorageKey, inputDataJSON);\n}\n\nconst savedInputData = localStorage.getItem(localStorageKey);\nconst parsedInputData = JSON.parse(savedInputData);\n\nconst textarea = formRef.elements.message;\nconst email = formRef.elements.email;\n\nwindow.addEventListener('load', event => {\n  if (parsedInputData) {\n    textarea.value = parsedInputData.message;\n    email.value = parsedInputData.email;\n    inputData.email = parsedInputData.email;\n    inputData.message = parsedInputData.message;\n  }\n});\n\nformRef.addEventListener('submit', e => {\n  e.preventDefault();\n  inputData.message = inputData.message.trim();\n  localStorage.removeItem(localStorageKey);\n  inputData.email = '';\n  inputData.message = '';\n  formRef.reset();\n});\n"],"names":["formRef","onformRefInput","localStorageKey","inputData","event","inputDataJSON","savedInputData","parsedInputData","textarea","email","e"],"mappings":"uFAAA,MAAMA,EAAU,SAAS,cAAc,gBAAgB,EACvDA,EAAQ,iBAAiB,QAASC,CAAc,EAChD,MAAMC,EAAkB,sBAElBC,EAAY,CAChB,MAAO,GACP,QAAS,EACX,EAEA,SAASF,EAAeG,EAAO,CACzBA,EAAM,OAAO,OAAS,QACxBD,EAAU,MAAQC,EAAM,OAAO,MACtBA,EAAM,OAAO,OAAS,aAC/BD,EAAU,QAAUC,EAAM,OAAO,OAGnC,MAAMC,EAAgB,KAAK,UAAUF,CAAS,EAE9C,aAAa,QAAQD,EAAiBG,CAAa,CACrD,CAEA,MAAMC,EAAiB,aAAa,QAAQJ,CAAe,EACrDK,EAAkB,KAAK,MAAMD,CAAc,EAE3CE,EAAWR,EAAQ,SAAS,QAC5BS,EAAQT,EAAQ,SAAS,MAE/B,OAAO,iBAAiB,OAAQI,GAAS,CACnCG,IACFC,EAAS,MAAQD,EAAgB,QACjCE,EAAM,MAAQF,EAAgB,MAC9BJ,EAAU,MAAQI,EAAgB,MAClCJ,EAAU,QAAUI,EAAgB,QAExC,CAAC,EAEDP,EAAQ,iBAAiB,SAAUU,GAAK,CACtCA,EAAE,eAAc,EAChBP,EAAU,QAAUA,EAAU,QAAQ,KAAI,EAC1C,aAAa,WAAWD,CAAe,EACvCC,EAAU,MAAQ,GAClBA,EAAU,QAAU,GACpBH,EAAQ,MAAK,CACf,CAAC"}